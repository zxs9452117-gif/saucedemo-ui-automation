[pytest]
# 1. 配置執行參數 (CLI Arguments)
# --headed: 預設顯示瀏覽器 (若 CI 要跑則刪除或在 CLI 覆蓋)
# --browser chromium: 指定預設瀏覽器
# --html: 預設產出報告路徑
# -n auto: 預設開啟多線程並行
addopts = --browser chromium --html=report.html --self-contained-html

# 2. 設定測試檔案、類別與函式的命名規範 (讓 Pytest 更好找到你的測試)
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# 3. 配置測試路徑
testpaths = tests

# 4. 標記管理 (Markers) - 避免關鍵字警告
# 你可以在測試函式加上 @pytest.mark.smoke，然後執行 pytest -m smoke 只跑核心測試
markers =
    smoke: 核心功能冒煙測試
    regression: 完整回歸測試
    login: 登入相關測試

# 5. 日誌配置 (Logging)
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(message)s (%(filename)s:%(lineno)s)
log_cli_date_format = %Y-%m-%d %H:%M:%S